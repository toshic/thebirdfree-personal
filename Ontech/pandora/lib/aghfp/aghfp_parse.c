/*
    Warning - this file was autogenerated by genparse
    DO NOT EDIT - any changes will be lost
*/

#include "aghfp_parse.h"

#include <ctype.h>
#include <panic.h>
#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <util.h> /* hash and compare */

#if (defined TEST_HARNESS || defined DISPLAY_AT_CMDS)
#include <stdio.h>
#endif

typedef const uint8 *ptr;

static __inline__ char my_toupper(char c)
{ return 'a' <= c && c <= 'z' ? c +'A'-'a' : c; }

static ptr skip1(ptr s, ptr e)
{
  if(s)
    while(s != e && (*s == ' ' || *s == '\t'))
      ++s;
  return s;
}

#ifdef TEST_HARNESS
static void printString(const char *name, const struct sequence *s)
{
  uint16 i;
  printf(" %s='", name);
  for(i = 0; i < s->length; ++i) putchar(s->data[i]);
  printf("'");
}
#endif

static __inline__ ptr skipQuote(ptr p, ptr e)
{ return p && p != e && *p == '"' ? p+1 : p; }

static const int isStringTable[] =
{
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
    1,0,0,1,0,0,0,0,0,0,1,1,0,1,0,1,
    1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
    0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,
    0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0
};

static __inline__ int isString(char c)
{
    return (c & ~0x7F) == 0 && isStringTable[(int)c];
}

static ptr getString(ptr p, ptr e, struct sequence *res)
{
  p = skipQuote(p, e);
  if(p)
  {
    ptr s = p;
    while(p != e && isString(*p)) ++p;
    if(p != s)
    {
        res->data = s;
        res->length = p - s;
        return skipQuote(p, e);
    }
    else
    {
        p = skipQuote(p, e);
        if (*p==',' || *p == '\r')
        {
            res->data = 0;
            res->length = 0;
            return p;
        }
    }
  }
  res->data = 0;
  res->length = 0;
  return 0;
}

static ptr skipOnce1(ptr s, ptr e)
{
  if(s)
  {
    if(s != e && (*s == ',' || *s == ';'))
      ++s;
  }
  return s;
}

static ptr match1(ptr s, ptr e)
{ return s && s != e && (*s == '\r' || *s == '\n') ? s+1 : 0; }

static ptr matchChar(ptr s, ptr e, uint8 c)
{ return s && s != e && my_toupper((char) *s) == (char) c ? s+1 : 0; }

struct value_aghfpHandleAvailableCodecs_codecs get_aghfpHandleAvailableCodecs_codecs(const struct region_aghfpHandleAvailableCodecs_codecs *r0, uint16 i)
{
  struct region_aghfpHandleAvailableCodecs_codecs * r = (struct region_aghfpHandleAvailableCodecs_codecs *) r0;
  if(i < r->next)
  {
    r->next   = 0;
    r->next_s = r->s;
  }
  {
    uint16 n = r->next;
    ptr p = r->next_s;
    ptr e = r->e;
    struct value_aghfpHandleAvailableCodecs_codecs res;
    while(p && p != e && n <= i)
    {
      ++n;
      p = skip1(skipOnce1(skip1(UtilGetNumber(p, e, &res.codec), e), e), e);
    }
    r->next   = n;
    r->next_s = p;
    return res;
  }
}

static ptr loop1(ptr p, ptr e, struct region_aghfpHandleAvailableCodecs_codecs *res)
{
  int n = 0;
  struct value_aghfpHandleAvailableCodecs_codecs dummy;
  res->s = p;
  while(p && p != e && n < 10)
  {
    ptr pp = UtilGetNumber(p, e, &dummy.codec);
    if(!pp) break; else p = pp;
    if(++n < 10)
      p = skip1(skipOnce1(skip1(p, e), e), e);
  }
  res->e      = p;
  res->count  = n;
  res->next   = 0;
  res->next_s = res->s;
  return 1 <= n ? p : 0;
}

static ptr skip2(ptr s, ptr e)
{
  if(s)
    while(s != e && (*s == '?'))
      ++s;
  return s;
}

static ptr skip3(ptr s, ptr e)
{
  if(s)
    while(s != e && (*s == '(' || *s == ')'))
      ++s;
  return s;
}

static ptr getWildString(ptr p, ptr e, struct sequence *res)
{
  if(p)
  {
    ptr s = p;
    p = (uint8*)UtilFind(0xFFFF, '\r', (const uint16*)p, 0, 1, (uint16) (e - p));
    if (!p) p = (uint8*)UtilFind(0xFFFF, '\n', (const uint16*)p, 0, 1, e - p);
    if (!p) p = e;
    res->data = s;
    res->length = p - s;
    return p;
  }
  res->data = 0;
  res->length = 0;
  return 0;
}

static ptr findEndOfPacket(ptr s, ptr e)
{
  /*
     Returns
     0   if the buffer holds an incomplete packet
     s+1 if the buffer holds an invalid packet
     end of the first packet otherwise
  */
  if(s == e) return 0;

  if(*s == '\r')
  {
    /* expecting <cr> <lf> ... <cr> <lf> */
    if(e-s >= 4)
    {
      if(s[1] == '\n' && s[2] != '\r')
      {
        ptr p = s+2;
        if(*p != '\r')
        {
#ifndef TEST_HARNESS
        p = (const uint8*)UtilFind(0xFFFF, '\r', (const uint16*)p, 0, 1, (uint16)(e-p));
#endif
#ifdef TEST_HARNESS
		   while(p != e && *p != '\r') p++;
#endif
        return p == 0 || p + 1 == e ? 0 /* no terminator yet */
             : p[1] == '\n' ? p+2 /* valid */
             : s+1 ; /* invalid terminator */
         }
         else
             return s+1;
      }
      else
      {
        return s+1;
      }
    }
    else
    {
      /* Can't tell yet */
      return 0;
    }
  }
  else
  {
    /* expecting ... <cr> */
    ptr p = s;
    while(p != e && (*p == ' ' || *p == '\n' || *p == '\0' || *p == '\t')) ++p;
    if(p != e && *p == '\r') return s+1;
    while(p != e && *p != '\r') ++p;
    return p == e ? 0 : p+1;
  }
}

#ifndef TEST_HARNESS
#ifdef __XAP__
uint16 parseSource(Source rfcDataIn, Task task)
{
  ptr s = SourceMap(rfcDataIn);
  ptr e = s + SourceSize(rfcDataIn);
  ptr p = parseData(s, e, task);
  if(p != s)
  {
    SourceDrop(rfcDataIn, (uint16) (p - s));
    return 1;
  }
  else
  {
    return 0;
  }
}
#endif
#endif

typedef struct {
  char c;
  int to;
} Arc;

static const Arc arcs[] = {
  { '\t', 0 },
  { ' ', 0 },
  { 'A', 1 },
  { 'T', 2 },
  { '\t', 3 },
  { ' ', 3 },
  { '+', 4 },
  { 'A', 5 },
  { 'D', -1 },
  { '\t', 3 },
  { ' ', 3 },
  { '+', 4 },
  { '\t', 4 },
  { ' ', 4 },
  { 'B', 6 },
  { 'C', 7 },
  { 'N', 8 },
  { 'V', 9 },
  { '\t', 5 },
  { '\n', -2 },
  { '\r', -2 },
  { ' ', 5 },
  { 'A', 10 },
  { 'C', 11 },
  { 'I', 12 },
  { 'L', 13 },
  { 'R', 14 },
  { 'T', 15 },
  { 'V', 16 },
  { 'C', 17 },
  { 'H', 18 },
  { 'I', 19 },
  { 'K', 20 },
  { 'L', 21 },
  { 'M', 22 },
  { 'N', 23 },
  { 'O', 24 },
  { 'P', 25 },
  { 'S', 26 },
  { 'R', 27 },
  { 'G', 28 },
  { 'T', 29 },
  { 'C', 30 },
  { 'C', 31 },
  { 'S', 32 },
  { 'N', 33 },
  { 'D', 34 },
  { 'S', 35 },
  { 'R', 36 },
  { 'R', 37 },
  { 'W', 38 },
  { 'L', 39 },
  { 'U', 40 },
  { 'N', 41 },
  { 'P', 42 },
  { 'C', 43 },
  { 'I', 44 },
  { 'E', 45 },
  { 'G', 46 },
  { 'M', 47 },
  { 'U', 48 },
  { 'P', 49 },
  { 'B', 50 },
  { 'M', 51 },
  { 'R', 52 },
  { 'E', 53 },
  { 'M', 54 },
  { 'S', 55 },
  { 'S', 56 },
  { '\t', 30 },
  { ' ', 30 },
  { ':', -3 },
  { '=', -3 },
  { '\t', 31 },
  { '\n', -4 },
  { '\r', -4 },
  { ' ', 31 },
  { '\t', 32 },
  { ' ', 32 },
  { ':', -5 },
  { '=', -5 },
  { 'P', 57 },
  { 'N', 58 },
  { 'F', 59 },
  { 'H', 60 },
  { 'A', 61 },
  { 'A', 62 },
  { 'D', 63 },
  { 'P', 64 },
  { 'D', 65 },
  { 'D', 66 },
  { 'C', 67 },
  { 'P', 68 },
  { 'R', 69 },
  { 'F', 70 },
  { 'L', 71 },
  { 'R', 72 },
  { 'S', 73 },
  { 'I', 74 },
  { 'M', 75 },
  { 'S', 76 },
  { 'S', 77 },
  { 'S', 78 },
  { 'F', 79 },
  { 'S', 80 },
  { 'C', 81 },
  { '\t', 54 },
  { ' ', 54 },
  { ':', -6 },
  { '=', -6 },
  { '\t', 55 },
  { ' ', 55 },
  { ':', -7 },
  { '=', -7 },
  { '\t', 56 },
  { ' ', 56 },
  { ':', -8 },
  { '=', -8 },
  { '\t', 57 },
  { ' ', 57 },
  { ':', 82 },
  { '=', 82 },
  { '\t', 58 },
  { '\n', -9 },
  { '\r', -9 },
  { ' ', 58 },
  { '\t', 59 },
  { ' ', 59 },
  { ':', -10 },
  { '=', -10 },
  { '\t', 60 },
  { '\n', -11 },
  { '\r', -11 },
  { ' ', 60 },
  { ':', -12 },
  { '=', -12 },
  { '?', 83 },
  { '\t', 61 },
  { ' ', 61 },
  { ':', -13 },
  { '=', -13 },
  { '\t', 62 },
  { ' ', 62 },
  { ':', -14 },
  { '=', -14 },
  { '\t', 63 },
  { ' ', 63 },
  { ':', -15 },
  { '=', -15 },
  { '\t', 64 },
  { '\n', -16 },
  { '\r', -16 },
  { ' ', 64 },
  { '\t', 65 },
  { '\n', -17 },
  { '\r', -17 },
  { ' ', 65 },
  { ':', 84 },
  { '=', 84 },
  { '?', 85 },
  { '\t', 66 },
  { ' ', 66 },
  { ':', -18 },
  { '=', -18 },
  { '\t', 67 },
  { '\n', -19 },
  { '\r', -19 },
  { ' ', 67 },
  { '\t', 68 },
  { ' ', 68 },
  { ':', -20 },
  { '=', -20 },
  { '\t', 69 },
  { ' ', 69 },
  { ':', -21 },
  { '=', -21 },
  { '\t', 70 },
  { ' ', 70 },
  { ':', -22 },
  { '=', -22 },
  { '\t', 71 },
  { ' ', 71 },
  { ':', -23 },
  { '=', -23 },
  { '\t', 72 },
  { ' ', 72 },
  { ':', -24 },
  { '=', -24 },
  { '\t', 73 },
  { ' ', 73 },
  { ':', -25 },
  { '=', -25 },
  { '\t', 74 },
  { ' ', 74 },
  { ':', -26 },
  { '=', -26 },
  { '\t', 75 },
  { '\n', -27 },
  { '\r', -27 },
  { ' ', 75 },
  { '\t', 76 },
  { '\n', -28 },
  { '\r', -28 },
  { ' ', 76 },
  { ':', -29 },
  { '=', -29 },
  { '?', 86 },
  { '\t', 77 },
  { ' ', 77 },
  { ':', -30 },
  { '=', -30 },
  { '\t', 78 },
  { '\n', -31 },
  { '\r', -31 },
  { ' ', 78 },
  { ':', -32 },
  { '=', -32 },
  { '?', 87 },
  { 'N', 88 },
  { 'F', 89 },
  { '\t', 81 },
  { ' ', 81 },
  { ':', -33 },
  { '=', -33 },
  { '\t', 82 },
  { ' ', 82 },
  { '1', 90 },
  { '\t', 91 },
  { '\n', -11 },
  { '\r', -11 },
  { ' ', 91 },
  { '?', 83 },
  { '\t', 84 },
  { '\n', -34 },
  { '\r', -34 },
  { ' ', 84 },
  { '?', 92 },
  { '\t', 93 },
  { '\n', -17 },
  { '\r', -17 },
  { ' ', 93 },
  { '?', 85 },
  { '\t', 94 },
  { '\n', -28 },
  { '\r', -28 },
  { ' ', 94 },
  { '?', 86 },
  { '\t', 95 },
  { '\n', -31 },
  { '\r', -31 },
  { ' ', 95 },
  { '?', 87 },
  { '\t', 88 },
  { ' ', 88 },
  { ':', -35 },
  { '=', -35 },
  { '\t', 89 },
  { ' ', 89 },
  { ':', -36 },
  { '=', -36 },
  { '\t', 90 },
  { '\n', -37 },
  { '\r', -37 },
  { ' ', 90 },
  { '\t', 91 },
  { '\n', -11 },
  { '\r', -11 },
  { ' ', 91 },
  { '\t', 96 },
  { '\n', -34 },
  { '\r', -34 },
  { ' ', 96 },
  { '?', 92 },
  { '\t', 93 },
  { '\n', -17 },
  { '\r', -17 },
  { ' ', 93 },
  { '\t', 94 },
  { '\n', -28 },
  { '\r', -28 },
  { ' ', 94 },
  { '\t', 95 },
  { '\n', -31 },
  { '\r', -31 },
  { ' ', 95 },
  { '\t', 96 },
  { '\n', -34 },
  { '\r', -34 },
  { ' ', 96 },
};

static const Arc *const states[98] = {
  &arcs[0],
  &arcs[3],
  &arcs[4],
  &arcs[9],
  &arcs[12],
  &arcs[18],
  &arcs[22],
  &arcs[29],
  &arcs[39],
  &arcs[40],
  &arcs[42],
  &arcs[43],
  &arcs[45],
  &arcs[46],
  &arcs[47],
  &arcs[48],
  &arcs[49],
  &arcs[50],
  &arcs[51],
  &arcs[53],
  &arcs[54],
  &arcs[55],
  &arcs[57],
  &arcs[59],
  &arcs[61],
  &arcs[62],
  &arcs[64],
  &arcs[65],
  &arcs[66],
  &arcs[68],
  &arcs[69],
  &arcs[73],
  &arcs[77],
  &arcs[81],
  &arcs[82],
  &arcs[83],
  &arcs[84],
  &arcs[85],
  &arcs[86],
  &arcs[87],
  &arcs[88],
  &arcs[89],
  &arcs[90],
  &arcs[91],
  &arcs[92],
  &arcs[93],
  &arcs[94],
  &arcs[98],
  &arcs[99],
  &arcs[100],
  &arcs[101],
  &arcs[102],
  &arcs[103],
  &arcs[105],
  &arcs[106],
  &arcs[110],
  &arcs[114],
  &arcs[118],
  &arcs[122],
  &arcs[126],
  &arcs[130],
  &arcs[137],
  &arcs[141],
  &arcs[145],
  &arcs[149],
  &arcs[153],
  &arcs[160],
  &arcs[164],
  &arcs[168],
  &arcs[172],
  &arcs[176],
  &arcs[180],
  &arcs[184],
  &arcs[188],
  &arcs[192],
  &arcs[196],
  &arcs[200],
  &arcs[207],
  &arcs[211],
  &arcs[218],
  &arcs[219],
  &arcs[220],
  &arcs[224],
  &arcs[227],
  &arcs[232],
  &arcs[237],
  &arcs[242],
  &arcs[247],
  &arcs[252],
  &arcs[256],
  &arcs[260],
  &arcs[264],
  &arcs[268],
  &arcs[273],
  &arcs[277],
  &arcs[281],
  &arcs[285],
  &arcs[289],
};

static uint16 matchLiteral(ptr s, ptr e, Task task)
{ s=s; e=e; task=task; return 0; }

ptr parseData(ptr s, ptr e, Task task)
{
  ptr p;

#ifdef DISPLAY_AT_CMDS
  {
  	ptr c = s;
    printf("\nreceived: ");
  	while (c != e)
  	{
		if (*c == '\r')			printf("\\r");
		else if (*c == '\n') 	printf("\\n");
		else 					putchar(*c);

		c++;
  	}
  }
#endif

#ifdef TEST_HARNESS
  task = task;
#endif
  for(; (p = findEndOfPacket(s, e)) != 0; s = p)
  {
    if(p == s+1)
    {
      /* Silently discard one character; no packets are that short */
      continue;
    }
    else if(matchLiteral(s, p, task))
    {
      continue;
    }
    else
    {
      union {
        struct aghfpHandleDialParse aghfpHandleDialParse;
        struct aghfpHandleMemoryDialParse aghfpHandleMemoryDialParse;
        struct aghfpHandleAvailableCodecs aghfpHandleAvailableCodecs;
        struct aghfpHandleWbsCodecNegotiation aghfpHandleWbsCodecNegotiation;
        struct aghfpHandleVgmParse aghfpHandleVgmParse;
        struct aghfpHandleVgsParse aghfpHandleVgsParse;
        struct aghfpHandleVtsParse aghfpHandleVtsParse;
        struct aghfpHandleBrsfReqParse aghfpHandleBrsfReqParse;
        struct aghfpHandleBtrhSetStatusParse aghfpHandleBtrhSetStatusParse;
        struct aghfpHandleBvraParse aghfpHandleBvraParse;
        struct aghfpHandleCcwaParse aghfpHandleCcwaParse;
        struct aghfpHandleChldParse aghfpHandleChldParse;
        struct aghfpHandleCkpdParse aghfpHandleCkpdParse;
        struct aghfpHandleClipParse aghfpHandleClipParse;
        struct aghfpHandleCmerReqParse aghfpHandleCmerReqParse;
        struct aghfpHandleMessageFormat aghfpHandleMessageFormat;
        struct aghfpHandleListMessage aghfpHandleListMessage;
        struct aghfpHandleListMessageText aghfpHandleListMessageText;
        struct aghfpHandleReadMessage aghfpHandleReadMessage;
        struct aghfpHandleSendMessage aghfpHandleSendMessage;
        struct aghfpHandleNewMessageIndication aghfpHandleNewMessageIndication;
        struct aghfpHandleCopsFormatParse aghfpHandleCopsFormatParse;
        struct aghfpHandleSelectPhonebookMemoryStorage aghfpHandleSelectPhonebookMemoryStorage;
        struct aghfpHandlePreferedMessageStorage aghfpHandlePreferedMessageStorage;
        struct aghfpHandleNrecParse aghfpHandleNrecParse;
        struct aghfpHandleFeatureNegotiation aghfpHandleFeatureNegotiation;
        struct aghfpHandleReponseCSRSupportedFeatures aghfpHandleReponseCSRSupportedFeatures;
      } u, *uu = &u;
      int state = 0;
      ptr t = s;
      while(t != e && state >= 0)
      {
        char m = my_toupper((char) *t);
        const Arc *a = states[state];
        const Arc *const last_a = states[state+1];
#ifndef TEST_HARNESS
        a = (const Arc *) (void *) UtilFind(0xFFFF, (uint16) m, (const uint16 *) (void *) &a[0].c, 0, sizeof(Arc), (uint16) (last_a - a));
#endif
#ifdef TEST_HARNESS
        while(a != last_a && a->c != m) a++;
#endif
        /*lint -e{801} suppress goto is deprecated */
        if(!a) goto unrecognised;
        state = a->to;
        ++t;
      }
      switch(-state)
      {
        case 1:
          if(match1(skip1(skipOnce1(getString(skip1(t, e), e, &uu->aghfpHandleDialParse.number), e), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleDialParse(task, &uu->aghfpHandleDialParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleDialParse");
            printString("number", &uu->aghfpHandleDialParse.number);
            putchar('\n');
#endif
            continue;
          }
          if(match1(skip1(skipOnce1(getString(skip1(matchChar(skip1(t, e), e, '>'), e), e, &uu->aghfpHandleMemoryDialParse.number), e), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleMemoryDialParse(task, &uu->aghfpHandleMemoryDialParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleMemoryDialParse");
            printString("number", &uu->aghfpHandleMemoryDialParse.number);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 2:
          if(t)
          {
#ifndef TEST_HARNESS
            aghfpHandleAtaParse(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleAtaParse");
            putchar('\n');
#endif
            continue;
          }
          break;
        case 3:
          if(match1(skip1(loop1(skip1(t, e), e, &uu->aghfpHandleAvailableCodecs.codecs), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleAvailableCodecs(task, &uu->aghfpHandleAvailableCodecs);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleAvailableCodecs");
            {
              uint16 i;
              struct region_aghfpHandleAvailableCodecs_codecs *r = &uu->aghfpHandleAvailableCodecs.codecs;
              printf(" codecs={");
              for(i = 0; i < r->count; ++i)
              {
                struct value_aghfpHandleAvailableCodecs_codecs t = get_aghfpHandleAvailableCodecs_codecs(r, i);
                putchar('{');
                printf(" codec=%d", t.codec);
                putchar('}');
              }
              putchar('}');
            }
            putchar('\n');
#endif
            continue;
          }
          break;
        case 4:
          if(t)
          {
#ifndef TEST_HARNESS
            aghfpHandleWbsCodecConnection(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleWbsCodecConnection");
            putchar('\n');
#endif
            continue;
          }
          break;
        case 5:
          if(match1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleWbsCodecNegotiation.codec), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleWbsCodecNegotiation(task, &uu->aghfpHandleWbsCodecNegotiation);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleWbsCodecNegotiation");
            printf(" codec=%d", uu->aghfpHandleWbsCodecNegotiation.codec);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 6:
          if(match1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleVgmParse.gain), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleVgmParse(task, &uu->aghfpHandleVgmParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleVgmParse");
            printf(" gain=%d", uu->aghfpHandleVgmParse.gain);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 7:
          if(match1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleVgsParse.volume), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleVgsParse(task, &uu->aghfpHandleVgsParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleVgsParse");
            printf(" volume=%d", uu->aghfpHandleVgsParse.volume);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 8:
          if(match1(skip1(getString(skip1(t, e), e, &uu->aghfpHandleVtsParse.code), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleVtsParse(task, &uu->aghfpHandleVtsParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleVtsParse");
            printString("code", &uu->aghfpHandleVtsParse.code);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 9:
          if(t)
          {
#ifndef TEST_HARNESS
            aghfpHandleBldnParse(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleBldnParse");
            putchar('\n');
#endif
            continue;
          }
          break;
        case 10:
          if(match1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleBrsfReqParse.supportedFeatures), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleBrsfReqParse(task, &uu->aghfpHandleBrsfReqParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleBrsfReqParse");
            printf(" supportedFeatures=%d", uu->aghfpHandleBrsfReqParse.supportedFeatures);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 11:
          if(t)
          {
#ifndef TEST_HARNESS
            aghfpHandleBtrhStatusRequestParse(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleBtrhStatusRequestParse");
            putchar('\n');
#endif
            continue;
          }
          break;
        case 12:
          if(match1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleBtrhSetStatusParse.cmd), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleBtrhSetStatusParse(task, &uu->aghfpHandleBtrhSetStatusParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleBtrhSetStatusParse");
            printf(" cmd=%d", uu->aghfpHandleBtrhSetStatusParse.cmd);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 13:
          if(match1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleBvraParse.state), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleBvraParse(task, &uu->aghfpHandleBvraParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleBvraParse");
            printf(" state=%d", uu->aghfpHandleBvraParse.state);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 14:
          if(match1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleCcwaParse.state), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleCcwaParse(task, &uu->aghfpHandleCcwaParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleCcwaParse");
            printf(" state=%d", uu->aghfpHandleCcwaParse.state);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 15:
          if(match1(skip1(skip2(skip1(t, e), e), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleChldSupportReqParse(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleChldSupportReqParse");
            putchar('\n');
#endif
            continue;
          }
          if(match1(skip1(getString(skip1(t, e), e, &uu->aghfpHandleChldParse.cmd), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleChldParse(task, &uu->aghfpHandleChldParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleChldParse");
            printString("cmd", &uu->aghfpHandleChldParse.cmd);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 16:
          if(t)
          {
#ifndef TEST_HARNESS
            aghfpHandleChupParse(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleChupParse");
            putchar('\n');
#endif
            continue;
          }
          break;
        case 17:
          if(t)
          {
#ifndef TEST_HARNESS
            aghfpHandleCindStatusReqParse(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleCindStatusReqParse");
            putchar('\n');
#endif
            continue;
          }
          break;
        case 18:
          if(match1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleCkpdParse.keycode), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleCkpdParse(task, &uu->aghfpHandleCkpdParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleCkpdParse");
            printf(" keycode=%d", uu->aghfpHandleCkpdParse.keycode);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 19:
          if(t)
          {
#ifndef TEST_HARNESS
            aghfpHandleClccParse(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleClccParse");
            putchar('\n');
#endif
            continue;
          }
          break;
        case 20:
          if(match1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleClipParse.state), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleClipParse(task, &uu->aghfpHandleClipParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleClipParse");
            printf(" state=%d", uu->aghfpHandleClipParse.state);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 21:
          if(match1(skip1(UtilGetNumber(skip1(skipOnce1(skip1(UtilGetNumber(skip1(skipOnce1(skip1(UtilGetNumber(skip1(skipOnce1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleCmerReqParse.mode), e), e), e), e, &uu->aghfpHandleCmerReqParse.keyp), e), e), e), e, &uu->aghfpHandleCmerReqParse.disp), e), e), e), e, &uu->aghfpHandleCmerReqParse.ind), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleCmerReqParse(task, &uu->aghfpHandleCmerReqParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleCmerReqParse");
            printf(" mode=%d", uu->aghfpHandleCmerReqParse.mode);
            printf(" keyp=%d", uu->aghfpHandleCmerReqParse.keyp);
            printf(" disp=%d", uu->aghfpHandleCmerReqParse.disp);
            printf(" ind=%d", uu->aghfpHandleCmerReqParse.ind);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 22:
          if(match1(skip1(skip2(skip1(t, e), e), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleMessageFormatQuery(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleMessageFormatQuery");
            putchar('\n');
#endif
            continue;
          }
          if(match1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleMessageFormat.format), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleMessageFormat(task, &uu->aghfpHandleMessageFormat);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleMessageFormat");
            printf(" format=%d", uu->aghfpHandleMessageFormat.format);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 23:
          if(match1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleListMessage.stat), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleListMessage(task, &uu->aghfpHandleListMessage);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleListMessage");
            printf(" stat=%d", uu->aghfpHandleListMessage.stat);
            putchar('\n');
#endif
            continue;
          }
          if(match1(skip1(getString(skip1(t, e), e, &uu->aghfpHandleListMessageText.stat), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleListMessageText(task, &uu->aghfpHandleListMessageText);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleListMessageText");
            printString("stat", &uu->aghfpHandleListMessageText.stat);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 24:
          if(match1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleReadMessage.index), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleReadMessage(task, &uu->aghfpHandleReadMessage);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleReadMessage");
            printf(" index=%d", uu->aghfpHandleReadMessage.index);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 25:
          if(match1(skip1(getString(skip1(t, e), e, &uu->aghfpHandleSendMessage.sender), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleSendMessage(task, &uu->aghfpHandleSendMessage);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleSendMessage");
            printString("sender", &uu->aghfpHandleSendMessage.sender);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 26:
          if(match1(skip1(skip2(skip1(t, e), e), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleNewMessageIndicationQuery(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleNewMessageIndicationQuery");
            putchar('\n');
#endif
            continue;
          }
          if(match1(skip1(UtilGetNumber(skip1(skipOnce1(UtilGetNumber(skip1(skipOnce1(UtilGetNumber(skip1(skipOnce1(UtilGetNumber(skip1(skipOnce1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleNewMessageIndication.mode), e), e), e, &uu->aghfpHandleNewMessageIndication.mt), e), e), e, &uu->aghfpHandleNewMessageIndication.bm), e), e), e, &uu->aghfpHandleNewMessageIndication.ds), e), e), e, &uu->aghfpHandleNewMessageIndication.bfr), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleNewMessageIndication(task, &uu->aghfpHandleNewMessageIndication);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleNewMessageIndication");
            printf(" mode=%d", uu->aghfpHandleNewMessageIndication.mode);
            printf(" mt=%d", uu->aghfpHandleNewMessageIndication.mt);
            printf(" bm=%d", uu->aghfpHandleNewMessageIndication.bm);
            printf(" ds=%d", uu->aghfpHandleNewMessageIndication.ds);
            printf(" bfr=%d", uu->aghfpHandleNewMessageIndication.bfr);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 27:
          if(t)
          {
#ifndef TEST_HARNESS
            aghfpHandleCnumParse(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleCnumParse");
            putchar('\n');
#endif
            continue;
          }
          break;
        case 28:
          if(t)
          {
#ifndef TEST_HARNESS
            aghfpHandleCopsStatusParse(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleCopsStatusParse");
            putchar('\n');
#endif
            continue;
          }
          break;
        case 29:
          if(match1(skip1(UtilGetNumber(skip1(skipOnce1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleCopsFormatParse.mode), e), e), e), e, &uu->aghfpHandleCopsFormatParse.format), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleCopsFormatParse(task, &uu->aghfpHandleCopsFormatParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleCopsFormatParse");
            printf(" mode=%d", uu->aghfpHandleCopsFormatParse.mode);
            printf(" format=%d", uu->aghfpHandleCopsFormatParse.format);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 30:
          if(match1(skip1(getString(skip1(t, e), e, &uu->aghfpHandleSelectPhonebookMemoryStorage.storage), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleSelectPhonebookMemoryStorage(task, &uu->aghfpHandleSelectPhonebookMemoryStorage);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleSelectPhonebookMemoryStorage");
            printString("storage", &uu->aghfpHandleSelectPhonebookMemoryStorage.storage);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 31:
          if(t)
          {
#ifndef TEST_HARNESS
            aghfpHandlePreferedMessageStorageStatus(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandlePreferedMessageStorageStatus");
            putchar('\n');
#endif
            continue;
          }
          break;
        case 32:
          if(match1(skip1(skip2(skip1(t, e), e), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandlePreferedMessageStorageQuery(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandlePreferedMessageStorageQuery");
            putchar('\n');
#endif
            continue;
          }
          if(match1(skip1(getString(skip1(t, e), e, &uu->aghfpHandlePreferedMessageStorage.storage), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandlePreferedMessageStorage(task, &uu->aghfpHandlePreferedMessageStorage);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandlePreferedMessageStorage");
            printString("storage", &uu->aghfpHandlePreferedMessageStorage.storage);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 33:
          if(match1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleNrecParse.state), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleNrecParse(task, &uu->aghfpHandleNrecParse);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleNrecParse");
            printf(" state=%d", uu->aghfpHandleNrecParse.state);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 34:
          if(t)
          {
#ifndef TEST_HARNESS
            aghfpHandleCindSupportReqParse(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleCindSupportReqParse");
            putchar('\n');
#endif
            continue;
          }
          break;
        case 35:
          if(match1(skip1(skip3(skip1(UtilGetNumber(skip1(skipOnce1(skip1(UtilGetNumber(skip1(skip3(skip1(t, e), e), e), e, &uu->aghfpHandleFeatureNegotiation.ind), e), e), e), e, &uu->aghfpHandleFeatureNegotiation.val), e), e), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleFeatureNegotiation(task, &uu->aghfpHandleFeatureNegotiation);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleFeatureNegotiation");
            printf(" ind=%d", uu->aghfpHandleFeatureNegotiation.ind);
            printf(" val=%d", uu->aghfpHandleFeatureNegotiation.val);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 36:
          if(match1(skip1(getWildString(skip1(skipOnce1(skip1(UtilGetNumber(skip1(skipOnce1(skip1(UtilGetNumber(skip1(skipOnce1(skip1(UtilGetNumber(skip1(skipOnce1(skip1(UtilGetNumber(skip1(skipOnce1(skip1(UtilGetNumber(skip1(skipOnce1(skip1(UtilGetNumber(skip1(t, e), e, &uu->aghfpHandleReponseCSRSupportedFeatures.callerName), e), e), e), e, &uu->aghfpHandleReponseCSRSupportedFeatures.rawText), e), e), e), e, &uu->aghfpHandleReponseCSRSupportedFeatures.smsInd), e), e), e), e, &uu->aghfpHandleReponseCSRSupportedFeatures.battLevel), e), e), e), e, &uu->aghfpHandleReponseCSRSupportedFeatures.pwrSource), e), e), e), e, &uu->aghfpHandleReponseCSRSupportedFeatures.codecs), e), e), e), e, &uu->aghfpHandleReponseCSRSupportedFeatures.ignore), e), e))
          {
#ifndef TEST_HARNESS
            aghfpHandleReponseCSRSupportedFeatures(task, &uu->aghfpHandleReponseCSRSupportedFeatures);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleReponseCSRSupportedFeatures");
            printf(" callerName=%d", uu->aghfpHandleReponseCSRSupportedFeatures.callerName);
            printf(" rawText=%d", uu->aghfpHandleReponseCSRSupportedFeatures.rawText);
            printf(" smsInd=%d", uu->aghfpHandleReponseCSRSupportedFeatures.smsInd);
            printf(" battLevel=%d", uu->aghfpHandleReponseCSRSupportedFeatures.battLevel);
            printf(" pwrSource=%d", uu->aghfpHandleReponseCSRSupportedFeatures.pwrSource);
            printf(" codecs=%d", uu->aghfpHandleReponseCSRSupportedFeatures.codecs);
            printString("ignore", &uu->aghfpHandleReponseCSRSupportedFeatures.ignore);
            putchar('\n');
#endif
            continue;
          }
          break;
        case 37:
          if(t)
          {
#ifndef TEST_HARNESS
            aghfpHandleBinpParse(task);
#endif
#ifdef TEST_HARNESS
            printf("Called aghfpHandleBinpParse");
            putchar('\n');
#endif
            continue;
          }
          break;
        default:
          break;
      }
      /*
        The message does not contain a recognised AT command or response.
        Pass the data on to the application to have a go at 
      */
unrecognised:
#ifndef TEST_HARNESS
      handleUnrecognised(s, (uint16) (p-s), task);
#endif
#ifdef TEST_HARNESS
      printf("Called handleUnrecognised\n");
#endif
    }
  }

  return s;
}

/*
aghfpHandleCkpdParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar K
   MatchChar P
   MatchChar D
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber keycode
   Skip " \t"
   Match "\r\n"


aghfpHandleBrsfReqParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar B
   MatchChar R
   MatchChar S
   MatchChar F
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber supportedFeatures
   Skip " \t"
   Match "\r\n"


aghfpHandleCindSupportReqParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar I
   MatchChar N
   MatchChar D
   Skip " \t"
   Match "=:"
   Skip " \t"
   Skip "?"
   Skip " \t"
   Match "\r\n"


aghfpHandleCindStatusReqParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar I
   MatchChar N
   MatchChar D
   Skip " \t"
   Skip "?"
   Skip " \t"
   Match "\r\n"


aghfpHandleCmerReqParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar M
   MatchChar E
   MatchChar R
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber mode
   Skip " \t"
   SkipOnce ",;"
   Skip " \t"
   GetNumber keyp
   Skip " \t"
   SkipOnce ",;"
   Skip " \t"
   GetNumber disp
   Skip " \t"
   SkipOnce ",;"
   Skip " \t"
   GetNumber ind
   Skip " \t"
   Match "\r\n"


aghfpHandleChldSupportReqParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar H
   MatchChar L
   MatchChar D
   Skip " \t"
   Match "=:"
   Skip " \t"
   Skip "?"
   Skip " \t"
   Match "\r\n"


aghfpHandleChldParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar H
   MatchChar L
   MatchChar D
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetString cmd
   Skip " \t"
   Match "\r\n"


aghfpHandleAtaParse
   Skip " \t"
   MatchChar A
   MatchChar T
   MatchChar A
   Skip " \t"
   Match "\r\n"


aghfpHandleClipParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar L
   MatchChar I
   MatchChar P
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber state
   Skip " \t"
   Match "\r\n"


aghfpHandleCcwaParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar C
   MatchChar W
   MatchChar A
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber state
   Skip " \t"
   Match "\r\n"


aghfpHandleChupParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar H
   MatchChar U
   MatchChar P
   Skip " \t"
   Match "\r\n"


aghfpHandleDialParse
   Skip " \t"
   MatchChar A
   MatchChar T
   MatchChar D
   Skip " \t"
   GetString number
   SkipOnce ",;"
   Skip " \t"
   Match "\r\n"


aghfpHandleMemoryDialParse
   Skip " \t"
   MatchChar A
   MatchChar T
   MatchChar D
   Skip " \t"
   MatchChar >
   Skip " \t"
   GetString number
   SkipOnce ",;"
   Skip " \t"
   Match "\r\n"


aghfpHandleBldnParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar B
   MatchChar L
   MatchChar D
   MatchChar N
   Skip " \t"
   Match "\r\n"


aghfpHandleNrecParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar N
   MatchChar R
   MatchChar E
   MatchChar C
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber state
   Skip " \t"
   Match "\r\n"


aghfpHandleBvraParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar B
   MatchChar V
   MatchChar R
   MatchChar A
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber state
   Skip " \t"
   Match "\r\n"


aghfpHandleBinpParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar B
   MatchChar I
   MatchChar N
   MatchChar P
   Skip " \t"
   Match "=:"
   Skip " \t"
   MatchChar 1
   Skip " \t"
   Match "\r\n"


aghfpHandleVtsParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar V
   MatchChar T
   MatchChar S
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetString code
   Skip " \t"
   Match "\r\n"


aghfpHandleVgmParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar V
   MatchChar G
   MatchChar M
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber gain
   Skip " \t"
   Match "\r\n"


aghfpHandleVgsParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar V
   MatchChar G
   MatchChar S
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber volume
   Skip " \t"
   Match "\r\n"


aghfpHandleBtrhStatusRequestParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar B
   MatchChar T
   MatchChar R
   MatchChar H
   Skip " \t"
   Skip "?"
   Skip " \t"
   Match "\r\n"


aghfpHandleBtrhSetStatusParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar B
   MatchChar T
   MatchChar R
   MatchChar H
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber cmd
   Skip " \t"
   Match "\r\n"


aghfpHandleCnumParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar N
   MatchChar U
   MatchChar M
   Skip " \t"
   Match "\r\n"


aghfpHandleClccParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar L
   MatchChar C
   MatchChar C
   Skip " \t"
   Match "\r\n"


aghfpHandleCopsFormatParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar O
   MatchChar P
   MatchChar S
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber mode
   Skip " \t"
   SkipOnce ",;"
   Skip " \t"
   GetNumber format
   Skip " \t"
   Match "\r\n"


aghfpHandleCopsStatusParse
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar O
   MatchChar P
   MatchChar S
   Skip " \t"
   Skip "?"
   Skip " \t"
   Match "\r\n"


aghfpHandleReponseCSRSupportedFeatures
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar S
   MatchChar R
   MatchChar S
   MatchChar F
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber callerName
   Skip " \t"
   SkipOnce ",;"
   Skip " \t"
   GetNumber rawText
   Skip " \t"
   SkipOnce ",;"
   Skip " \t"
   GetNumber smsInd
   Skip " \t"
   SkipOnce ",;"
   Skip " \t"
   GetNumber battLevel
   Skip " \t"
   SkipOnce ",;"
   Skip " \t"
   GetNumber pwrSource
   Skip " \t"
   SkipOnce ",;"
   Skip " \t"
   GetNumber codecs
   Skip " \t"
   SkipOnce ",;"
   Skip " \t"
   GetWildString ignore
   Skip " \t"
   Match "\r\n"


aghfpHandleFeatureNegotiation
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar S
   MatchChar R
   MatchChar F
   MatchChar N
   Skip " \t"
   Match "=:"
   Skip " \t"
   Skip "()"
   Skip " \t"
   GetNumber ind
   Skip " \t"
   SkipOnce ",;"
   Skip " \t"
   GetNumber val
   Skip " \t"
   Skip "()"
   Skip " \t"
   Match "\r\n"


aghfpHandleWbsCodecNegotiation
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar B
   MatchChar C
   MatchChar S
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber codec
   Skip " \t"
   Match "\r\n"


aghfpHandleWbsCodecConnection
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar B
   MatchChar C
   MatchChar C
   Skip " \t"
   Match "\r\n"


aghfpHandleAvailableCodecs
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar B
   MatchChar A
   MatchChar C
   Skip " \t"
   Match "=:"
   Skip " \t"
   (Loop codecs 1 10   GetNumber codec
   Skip " \t"
   SkipOnce ",;"
   Skip " \t"
)
   Skip " \t"
   Match "\r\n"


aghfpHandleSelectPhonebookMemoryStorage
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar P
   MatchChar B
   MatchChar S
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetString storage
   Skip " \t"
   Match "\r\n"


aghfpHandleNewMessageIndicationQuery
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar N
   MatchChar M
   MatchChar I
   Skip " \t"
   Match "=:"
   Skip " \t"
   Skip "?"
   Skip " \t"
   Match "\r\n"


aghfpHandleNewMessageIndication
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar N
   MatchChar M
   MatchChar I
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber mode
   SkipOnce ",;"
   Skip " \t"
   GetNumber mt
   SkipOnce ",;"
   Skip " \t"
   GetNumber bm
   SkipOnce ",;"
   Skip " \t"
   GetNumber ds
   SkipOnce ",;"
   Skip " \t"
   GetNumber bfr
   Skip " \t"
   Match "\r\n"


aghfpHandlePreferedMessageStorageStatus
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar P
   MatchChar M
   MatchChar S
   Skip " \t"
   Skip "?"
   Skip " \t"
   Match "\r\n"


aghfpHandlePreferedMessageStorageQuery
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar P
   MatchChar M
   MatchChar S
   Skip " \t"
   Match "=:"
   Skip " \t"
   Skip "?"
   Skip " \t"
   Match "\r\n"


aghfpHandlePreferedMessageStorage
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar P
   MatchChar M
   MatchChar S
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetString storage
   Skip " \t"
   Match "\r\n"


aghfpHandleMessageFormatQuery
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar M
   MatchChar G
   MatchChar F
   Skip " \t"
   Match "=:"
   Skip " \t"
   Skip "?"
   Skip " \t"
   Match "\r\n"


aghfpHandleMessageFormat
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar M
   MatchChar G
   MatchChar F
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber format
   Skip " \t"
   Match "\r\n"


aghfpHandleListMessage
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar M
   MatchChar G
   MatchChar L
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber stat
   Skip " \t"
   Match "\r\n"


aghfpHandleListMessageText
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar M
   MatchChar G
   MatchChar L
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetString stat
   Skip " \t"
   Match "\r\n"


aghfpHandleReadMessage
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar M
   MatchChar G
   MatchChar R
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetNumber index
   Skip " \t"
   Match "\r\n"


aghfpHandleSendMessage
   Skip " \t"
   MatchChar A
   MatchChar T
   Skip " \t"
   MatchChar +
   Skip " \t"
   MatchChar C
   MatchChar M
   MatchChar G
   MatchChar S
   Skip " \t"
   Match "=:"
   Skip " \t"
   GetString sender
   Skip " \t"
   Match "\r\n"


*/
